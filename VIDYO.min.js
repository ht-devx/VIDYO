/*
    VIDYO by @ht-devx [2024]
    github.com/ht-devx/VIDYO
*/
window.VIDYO=function(e){let t=e=>{let t=e.video?e.video:"video",l=e.volume,a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),s=e=>({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase(),d=[];if("string"==s(t)){let n=document.querySelectorAll(t);n.length&&d.push(n)}else"array"==s(t)?t.forEach(e=>{if("string"==s(e)){let t=document.querySelectorAll(e);t.length&&d.push(t)}else(e instanceof HTMLElement||"nodelist"==s(e)&&e.length)&&d.push(e)}):(t instanceof HTMLElement||"nodelist"==s(t))&&(t instanceof HTMLElement||t.length)&&d.push(t);if("string"==s(l)&&(l="%"==(l=l.trim()).slice(-1)?Number(l.replace(/[^\d\.]*/g,""))/100:isNaN(l)?1:Number(l)),d.length)for(let i of d)(i instanceof HTMLElement?[i]:i)?.forEach(e=>{if("VIDEO"==e.tagName&&!e.closest(".vidyo-video-container")){if(e.volume=l,a)e.setAttribute("playsinline",""),e.controls=!0;else{let t=["controls","autoplay","muted"];for(let s of t)e.matches(`[${s}]`)&&e.removeAttribute(s);e.disablePictureInPicture=!0;let d=document.createElement("div");d.classList.add("vidyo-video-container"),e.before(d),d.append(e);let n=document.createElement("div");n.classList.add("vidyo-video-ovl"),d.prepend(n);let i=document.createElement("div");i.classList.add("vidyo-video-ctrl"),n.append(i);let _=document.createElement("div");_.classList.add("vidyo-tiny-ctrl");let $='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="512" height="512" x="0" y="0" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path fill-rule="evenodd" d="M468.8 235.007 67.441 3.277A24.2 24.2 0 0 0 55.354-.008h-.07A24.247 24.247 0 0 0 43.19 3.279a24 24 0 0 0-12.11 20.992v463.456a24.186 24.186 0 0 0 36.36 20.994L468.8 276.99a24.238 24.238 0 0 0 0-41.983z" fill="var(--VIDYO-buttons-color)"></path></g></svg>',o=document.createElement("div");o.classList.add("vidyo-video-play"),o.innerHTML=$,i.append(o);let r=document.createElement("div");r.classList.add("vidyo-tiny-play"),r.innerHTML=$;let v='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="512" height="512" x="0" y="0" viewBox="0 0 47.607 47.607" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path d="M17.991 40.976a6.631 6.631 0 0 1-13.262 0V6.631a6.631 6.631 0 0 1 13.262 0v34.345zM42.877 40.976a6.631 6.631 0 0 1-13.262 0V6.631a6.631 6.631 0 0 1 13.262 0v34.345z" fill="var(--VIDYO-buttons-color)" class=""></path></g></svg>',c=document.createElement("div");c.classList.add("vidyo-video-pause"),c.innerHTML=v,i.append(c);let p=document.createElement("div");p.classList.add("vidyo-tiny-pause"),p.innerHTML=v;let y=!1,u,m;document.addEventListener("mousedown",e=>{u=e.clientX,m=e.clientY,y=!1}),document.addEventListener("mousemove",e=>{let t=Math.abs(e.clientX-u),l=Math.abs(e.clientY-m);(t>5||l>5)&&(y=!0)}),n.addEventListener("click",t=>{y?t.preventDefault():e.paused?e.play():e.pause()}),_.addEventListener("click",()=>{e.paused?e.play():e.pause()}),e.addEventListener("play",()=>{o.style.display="none",r.style.display="none",c.style.display="block",p.style.display="block",setTimeout(()=>{d.classList.add("vidyo-playing")},200),d.classList.remove("vidyo-paused")}),e.addEventListener("pause",()=>{o.style.display="block",r.style.display="block",c.style.display="none",p.style.display="none",d.classList.add("vidyo-paused"),d.classList.remove("vidyo-playing")}),e.addEventListener("ended",()=>{o.style.display="block",r.style.display="block",c.style.display="none",p.style.display="none",d.classList+=" vidyo-paused vidyo-ended",e.currentTime=0});let L=document.createElement("div");L.classList.add("vidyo-video-slider"),d.append(L),L.prepend(_),_.append(r),_.append(p);let h=document.createElement("span");h.classList.add("vidyo-current-time"),L.append(h);let g=document.createElement("span");g.classList.add("pseudo-ct"),g.textContent="00:00",g.ariaHidden="true",h.append(g);let w=document.createElement("span");w.classList.add("actual-ct"),w.textContent="00:00",h.append(w);let E=document.createElement("div");E.classList.add("vidyo-slider-container"),L.append(E);let f=document.createElement("input");f.type="range",f.min=0,f.value=0,f.step=.1,f.classList.add("vidyo-slider"),E.append(f);let x=document.createElement("div");x.classList.add("vidyo-bar-piece"),E.append(x);let b=document.createElement("div");b.classList.add("vidyo-bar-fill"),x.append(b);let k=document.createElement("div");k.classList+=" vidyo-vol vol-on",L.append(k);let A=document.createElement("div");A.classList.add("vidyo-vol-ctrl"),k.append(A);let M=document.createElement("div");M.classList.add("vidyo-vol-on"),M.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="512" height="512" x="0" y="0" viewBox="0 0 20 20" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path fill="var(--VIDYO-tiny-buttons-color)" fill-rule="evenodd" d="M9.383 3.076A1 1 0 0 1 10 4v12a1 1 0 0 1-1.707.707L4.586 13H2a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h2.586l3.707-3.707a1 1 0 0 1 1.09-.217zm5.274-.147a1 1 0 0 1 1.414 0A9.973 9.973 0 0 1 19 10a9.973 9.973 0 0 1-2.929 7.071 1 1 0 0 1-1.414-1.414A7.971 7.971 0 0 0 17 10a7.97 7.97 0 0 0-2.343-5.657 1 1 0 0 1 0-1.414zm-2.829 2.828a1 1 0 0 1 1.415 0A5.982 5.982 0 0 1 15 10a5.982 5.982 0 0 1-1.757 4.243 1 1 0 1 1-1.415-1.415A3.985 3.985 0 0 0 13 10a3.982 3.982 0 0 0-1.172-2.828 1.001 1.001 0 0 1 0-1.415z" clip-rule="evenodd" class=""></path></g></svg>',A.append(M);let C=document.createElement("div");C.classList.add("vidyo-vol-off"),C.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="512" height="512" x="0" y="0" viewBox="0 0 20 20" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path fill="var(--VIDYO-tiny-buttons-color)" fill-rule="evenodd" d="M9.383 3.076A1 1 0 0 1 10 4v12a1 1 0 0 1-1.707.707L4.586 13H2a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h2.586l3.707-3.707a1 1 0 0 1 1.09-.217zm2.91 4.217a1 1 0 0 1 1.414 0L15 8.586l1.293-1.293a1 1 0 1 1 1.414 1.414L16.414 10l1.293 1.293a1 1 0 0 1-1.414 1.414L15 11.414l-1.293 1.293a1 1 0 0 1-1.414-1.414L13.586 10l-1.293-1.293a1 1 0 0 1 0-1.414z" clip-rule="evenodd" class=""></path></g></svg>',A.append(C);let H=document.createElement("div");H.classList.add("vol-slider-cont"),k.append(H);let V=document.createElement("div");V.classList.add("vol-slider-back"),H.append(V);let z=document.createElement("div");z.classList.add("vol-slider-fill"),V.append(z);let N=document.createElement("div");N.classList.add("vol-slider-db"),H.prepend(N);let O=document.createElement("input");O.type="range",O.min=0,O.max=1,O.step=.01,O.classList.add("vidyo-vol-slider"),H.append(O),setTimeout(()=>{O.value=l,z.style.height=100*l+"%"},0),A.addEventListener("click",()=>{k.matches(".vol-on")?(e.volume=0,O.value=0,k.classList.remove("vol-on"),k.classList.add("vol-off"),M.style.display="none",C.style.display="block",z.style.height="0%"):(e.volume=l,O.value=l,k.classList.remove("vol-off"),k.classList.add("vol-on"),M.style.display="block",C.style.display="none",z.style.height=100*l+"%")});let T=!1;O.addEventListener("mousedown",()=>{T=!0}),O.addEventListener("mouseup",()=>{T=!1}),O.addEventListener("input",()=>{if(T){let t=parseFloat(O.value);e.volume=t,t>0?(k.classList.remove("vol-off"),k.classList.add("vol-on"),M.style.display="block",C.style.display="none"):(k.classList.remove("vol-on"),k.classList.add("vol-off"),M.style.display="none",C.style.display="block"),z.style.height=100*t+"%"}}),A.addEventListener("mouseenter",()=>{k.classList.add("v-hover"),k.addEventListener("mouseleave",()=>{k.classList.remove("v-hover")})});let D;function I(){let t=e.duration;D=t;let l=S(t);if(f.max=D,L.querySelector(".vidyo-duration")){let a=L.querySelector(".actual-dur");a&&("NaN:NaN"==l?a.textContent="00:00":a.textContent=l)}else{let s=document.createElement("span");s.classList.add("vidyo-duration"),L.append(s);let d=document.createElement("span");d.classList.add("pseudo-dur"),d.textContent="00:00",d.ariaHidden="true",s.append(d);let n=document.createElement("span");n.classList.add("actual-dur"),"NaN:NaN"==l?n.textContent="00:00":n.textContent=l,s.append(n)}}function S(e){let t=parseFloat(e),l=Math.floor(t/60),a=Math.round(t%60);return l<10&&(l=`0${l}`),a<10&&(a=`0${a}`),`${l}:${a}`}e.addEventListener("loadeddata",()=>{I()}),setTimeout(()=>{I()},2e3);let Y=!1;f.addEventListener("mousedown",()=>{Y=!0}),f.addEventListener("mouseup",()=>{Y=!1}),f.addEventListener("input",()=>{if(Y){let t=parseFloat(f.value)/D;e.currentTime=D*t,b.style.width=100*t+"%"}}),e.addEventListener("timeupdate",()=>{let t=e.currentTime,l=S(t);w.textContent=l,g.style.visibility="hidden";let a=t/D;f.value=t,b.style.width=100*a+"%"})}}})};"loading"==document.readyState?document.addEventListener("DOMContentLoaded",()=>t(e)):t(e)};